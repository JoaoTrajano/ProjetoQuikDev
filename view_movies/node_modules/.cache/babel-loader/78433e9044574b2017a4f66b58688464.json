{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaot\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\prjQuickDev\\\\view_movies\\\\src\\\\components\\\\apiMovies.js\";\nimport React, { Component } from 'react';\nimport Details from '../Pages/Home/details';\nimport routesConfig from '../routerconfig';\nimport Filter from './filter';\nimport Movies from './movie';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ApiMovie extends Component {\n  constructor(props) {\n    super();\n\n    this.componentDidMount = () => {\n      this.getMovies();\n      this.getGenres();\n    };\n\n    this.getMovies = () => {\n      axios.get(\"http://127.0.0.1:8000/api/movies\").then(resp => {\n        let args = Array.prototype.slice.call(resp.data[0].results);\n        args = [].slice.call(resp.data[0].results);\n        args = Array.from(resp.data[0].results);\n        args.sort(function (a, b) {\n          return a.title > b.title ? 1 : b.title > a.title ? -1 : 0;\n        });\n        this.setState({\n          movie: args\n        });\n      });\n    };\n\n    this.getGenres = () => {\n      const request = axios.get(\"http://127.0.0.1:8000/api/movies/genre\");\n      request.then(respGenres => {\n        this.setState({\n          genres: respGenres.data[0].genres\n        });\n      });\n    };\n\n    this.mountArrayGenres = () => {\n      let arrayGenres = [];\n      this.state.genres.forEach(element => {\n        arrayGenres[element.id] = element.name;\n      });\n      return arrayGenres;\n    };\n\n    this.filterGenreTitle = event => {\n      this.setState({\n        valueFilter: event.target.value\n      });\n\n      if (this.state.valueFilter.indexOf(' ') >= 0) {\n        this.setState({\n          valueFilter: this.state.valueFilter.replace(' ', '+')\n        });\n      }\n    };\n\n    this.trocar = () => {\n      this.state.flag = false;\n      alert(this.state.flag);\n    };\n\n    this.state = {\n      movie: [],\n      genres: [],\n      valueFilter: '',\n      flag: true\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.state.valueFilter.indexOf(' ') >= 0) {\n      this.setState({\n        valueFilter: this.state.valueFilter.replace(' ', '+')\n      });\n    }\n\n    if (this.state.valueFilter.length > 0) {\n      const request = axios.get(\"http://127.0.0.1:8000/api/movies/\" + this.state.valueFilter);\n      request.then(resp => {\n        this.setState({\n          movie: resp.data[0].results\n        });\n        let args = Array.prototype.slice.call(resp.data[0].results);\n        args = [].slice.call(resp.data[0].results);\n        args = Array.from(resp.data[0].results);\n        args.sort(function (a, b) {\n          return a.title > b.title ? 1 : b.title > a.title ? -1 : 0;\n        });\n        this.setState({\n          movie: args\n        });\n      });\n    }\n  }\n\n  render() {\n    const arrayGenres = this.mountArrayGenres();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        filterGenreTitle: this.filterGenreTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), this.state.movie.sort().map(data => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"div-movies\",\n          children: this.state.flag ? /*#__PURE__*/_jsxDEV(Movies, {\n            nameMovie: data.title,\n            trocar: this.trocar,\n            poster: data.poster_path\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 53\n          }, this) : routesConfig.map((value, key) => {\n            return /*#__PURE__*/_jsxDEV(Switch, {\n              children: /*#__PURE__*/_jsxDEV(Route, {\n                path: value.path,\n                render: props => /*#__PURE__*/_jsxDEV(Details, { ...props,\n                  name: \"Joao\",\n                  id: data.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 68\n                }, this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 48\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 32\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ApiMovie;","map":{"version":3,"sources":["C:/Users/joaot/OneDrive/√Årea de Trabalho/prjQuickDev/view_movies/src/components/apiMovies.js"],"names":["React","Component","Details","routesConfig","Filter","Movies","axios","ApiMovie","constructor","props","componentDidMount","getMovies","getGenres","get","then","resp","args","Array","prototype","slice","call","data","results","from","sort","a","b","title","setState","movie","request","respGenres","genres","mountArrayGenres","arrayGenres","state","forEach","element","id","name","filterGenreTitle","event","valueFilter","target","value","indexOf","replace","trocar","flag","alert","componentDidUpdate","length","render","map","poster_path","key","path"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Details from '../Pages/Home/details'\r\nimport routesConfig from '../routerconfig';\r\nimport Filter from './filter'\r\nimport Movies from './movie'\r\nimport axios from 'axios';\r\n\r\nclass ApiMovie extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            movie: [],\r\n            genres: [],\r\n            valueFilter: '',\r\n            flag: true\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getMovies()\r\n        this.getGenres()\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n\r\n        if (this.state.valueFilter.indexOf(' ') >= 0) {\r\n            this.setState({ valueFilter: this.state.valueFilter.replace(' ', '+') });\r\n        }\r\n\r\n        if (this.state.valueFilter.length > 0) {\r\n\r\n            const request = axios.get(\"http://127.0.0.1:8000/api/movies/\" + this.state.valueFilter)\r\n            request.then((resp) => {\r\n                this.setState({ movie: resp.data[0].results });\r\n\r\n                let args = Array.prototype.slice.call(resp.data[0].results);\r\n                args = [].slice.call(resp.data[0].results);\r\n                args = Array.from(resp.data[0].results);\r\n\r\n                args.sort(function (a, b) {\r\n                    return (a.title > b.title) ? 1 : ((b.title > a.title) ? -1 : 0);\r\n                });\r\n\r\n                this.setState({ movie: args });\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    getMovies = () => {\r\n        axios.get(\"http://127.0.0.1:8000/api/movies\").then((resp) => {\r\n\r\n            let args = Array.prototype.slice.call(resp.data[0].results);\r\n            args = [].slice.call(resp.data[0].results);\r\n            args = Array.from(resp.data[0].results);\r\n\r\n            args.sort(function (a, b) {\r\n                return (a.title > b.title) ? 1 : ((b.title > a.title) ? -1 : 0);\r\n            });\r\n\r\n            this.setState({ movie: args });\r\n\r\n        })\r\n    }\r\n\r\n    getGenres = () => {\r\n        const request = axios.get(\"http://127.0.0.1:8000/api/movies/genre\")\r\n        request.then((respGenres) => {\r\n            this.setState({ genres: respGenres.data[0].genres });\r\n        })\r\n    }\r\n\r\n    mountArrayGenres = () => {\r\n        let arrayGenres = []\r\n        this.state.genres.forEach(element => {\r\n            arrayGenres[element.id] = element.name\r\n        });\r\n\r\n        return arrayGenres\r\n    }\r\n\r\n    filterGenreTitle = (event) => {\r\n\r\n        this.setState({ valueFilter: event.target.value });\r\n\r\n        if (this.state.valueFilter.indexOf(' ') >= 0) {\r\n            this.setState({ valueFilter: this.state.valueFilter.replace(' ', '+') });\r\n        }\r\n\r\n    }\r\n\r\n    trocar = () => {\r\n        this.state.flag = false\r\n        alert(this.state.flag)\r\n    }\r\n\r\n    render() {\r\n\r\n        const arrayGenres = this.mountArrayGenres()\r\n        return (\r\n            <div>\r\n                <Filter filterGenreTitle={this.filterGenreTitle} />\r\n                {\r\n                    this.state.movie.sort().map((data) => {\r\n                        return <div className=\"div-movies\">\r\n                            {\r\n                                (this.state.flag) ? <Movies \r\n                                        nameMovie={data.title}\r\n                                        trocar={this.trocar}\r\n                                        poster={data.poster_path}\r\n                                        \r\n\r\n                                /> :\r\n                                    routesConfig.map((value, key) => {\r\n                                        return <Switch>\r\n                                            <Route\r\n                                                key={key}\r\n                                                path={value.path}\r\n                                                render={(props) => <Details {...props} name=\"Joao\" id={data.id} />}></Route>\r\n                                        </Switch>\r\n                                    })\r\n                            }\r\n\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ApiMovie;"]},"metadata":{},"sourceType":"module"}